# 1. 搜索引擎是如何工作的



- 什么是搜索引擎?

  搜索引擎是一类系统或软件的统称, 作用是从文档的集合中查找出匹配信息需求的文档，信息需求是由单词、问题等构成的。

  > 全文搜索引擎:
  >
  > ​	`全文`指全部的句子， 当检索的对象为 `由文本构成的文档中的全部句子`时，对于该文档进行的检索就是全文搜索

- **搜索引擎的组件**

  - 索引管理器
    - 管理带有索引结构的数据

  > 索引结构是一种用于高速检索的数据结构。
  >
  > 一般将索引作为二级存储上的二进制文件进行管理的

  - 索引检索器
    - 利用索引进行全文搜索
  - 索引构建器
    - 文本文档$\rightarrow$单词虚拟$\rightarrow$索引结构
  - 文档管理器
    - 管理文档数据库的组件

- 全文搜索

  - 全扫描：从头到尾扫描
  - 索引：为文档建立索引，利用索引来搜索要检索的字符串。一般采用倒排索引

### 倒排索引

列出**哪个单词出现在哪一页**的表格

- 如何构建？
  - 以书中使用过的单词为行标题，页码为列标准。当某页使用了某个单词，将1填入相应的格子中。
  - 交换行列顺序 （叫`倒排`的原因），并将单词安装词典顺序进行排序
  - 精简的表示方式
- 术语
  - 文档：构建索引的单位。文档的标识信息称为 `文档编号`

所以说，倒排索引就是 **把单词和单词所在文档的文档编号对应起来的表格**

- **深入理解倒排索引**

**倒排索引=词典+倒排文件**

![image-20200629180806136](C:\Users\13298\Desktop\面向资料库编程\搜索引擎\1.assets\image-20200629180806136.png)

现在我们只是文档级别的倒排索引，那么更加精细的呢？

> **单词级别的倒排索引**=单词出现在哪个文档+单词出现在什么位置（从开头数是第几个单词）



- 从倒排索引查找短语

  > 比如说：查找 `search engine`， 我们不仅要寻找其文档编号的交集还要确认search和engine是否相邻出现

- 那么中文呢？

  中文分词：词素，N-gram 。。。

  

### 实现倒排索引

- 字典的实现

考虑下内存、磁盘，那么我们的数据结构就有二叉树、字典树、B+树（B树）