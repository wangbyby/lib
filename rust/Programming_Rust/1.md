# å‰è¨€

å­¦ä¹ Progamming Rustè¿™æœ¬ä¹¦çš„ç¬”è®°.



é¦–å…ˆRustæ˜¯ä¸€ä¸ªç³»ç»Ÿè¯­è¨€, å•¥æ˜¯ç³»ç»Ÿè¯­è¨€? æˆ–è€…è¯´ç³»ç»Ÿè¯­è¨€é’ˆå¯¹ä»€ä¹ˆ?

- OS
- è®¾å¤‡é©±åŠ¨
- æ–‡ä»¶ç³»ç»Ÿ
- æ•°æ®åº“
- ç¡¬ä»¶
- å¯†ç å­¦
- æµåª’ä½“
- ç½‘ç»œ
- å®¹å™¨,è™šæ‹Ÿæœº
- ç­‰ç­‰

å¥½å¤šå“¦,åŸºæœ¬ä¸Šåº•å±‚çš„éƒ½æ¶µç›–äº†. æˆ–è€…è¯´ç³»ç»Ÿç¼–ç¨‹è¯­è¨€åœ¨èµ„æºæœ‰é™ç¯å¢ƒä¸‹å·¥ä½œ.è¦æ¦¨å¹²å†…å­˜çš„æ¯ä¸ªå•å…ƒå’ŒCPUçš„æ¯ä¸ªå‘¨æœŸ.

é‚£Rustèƒ½å¹²ä»€ä¹ˆ, è§£å†³å›°æ‰°äº†å·¥ä¸šç•Œå¤šå¹´çš„é—®é¢˜. éƒ½æœ‰å•¥? ä¸”å¬æœ¬ä¹¦å¨“å¨“é“æ¥.

## æœ¬ä¹¦çš„ç»„æˆ

- å¥½å¥½çœ‹å®Œå‰äº”ç« : åŸºæœ¬ç±»å‹, æ‰€æœ‰æƒ, å¼•ç”¨

- å…­åˆ°åç« å¯ä»¥è·³ç€çœ‹: è¡¨è¾¾å¼, **é”™è¯¯å¤„ç†**, æ¨¡å—, ç»“æ„ä½“, æšä¸¾ä¸æ¨¡å¼åŒ¹é…

  ä¸è¦å¿˜æ‰é”™è¯¯å¤„ç†!!!

- åä¸€åˆ°åä¸‰ç« ä¹Ÿè¦å¥½å¥½çœ‹:traitå’Œæ³›å‹, traitä¸‹çš„æ“ä½œç¬¦é‡è½½å’Œå¾ˆå¤šä½¿ç”¨çš„trait

  - è¯»å®Œåä¸€ç« ä¹‹å,å°±æœ‰é—­åŒ…å’Œè¿­ä»£å™¨

- å‰©ä¸‹çš„å°±æ˜¯é›†åˆ, æ–‡æœ¬, è¾“å…¥è¾“å‡º, å¹¶å‘, å®, ä»¥åŠé»‘é­”æ³•unsafe



å¥½å•¦, å¼€å§‹ç¬¬ä¸€ç« : ä¸ºå•¥ç”¨Rust?

ä¸ºå•¥? ä¸ºå•¥ä¸ç”¨C/C++... å¥½åƒå¤§å®¶éƒ½å–œæ¬¢éª‚CXX.. ä½†æ˜¯CXXä»æœªè¢«è¶…è¶Š. å†™CXXçš„å¤§æ¦‚æ˜¯äººå½¢ç¼–è¯‘å™¨å§.

## 1. æœªè§£å†³çš„é—®é¢˜

- å®‰å…¨ä»£ç ä¸å¥½å†™. å•¥æ˜¯å®‰å…¨ä»£ç ? C/C++æƒ³è¦æ­£ç¡®ç®¡ç†å†…å­˜ç‰¹åˆ«éš¾. ä»1988å¹´çš„è •è™«ç—…æ¯’, å¤§å®¶éƒ½é¥±å—æŠ˜ç£¨. æ˜¯å…°å¾·é‡Œçš„è‹¦æ¥šå“’!
- å¤šçº¿ç¨‹ä»£ç å¥½éš¾å†™! ä½†æ˜¯å¤šçº¿ç¨‹æ˜¯æ¦¨å¹²ç°ä»£ç¡¬ä»¶çš„å”¯ä¸€åŠæ³•. å¤šçº¿ç¨‹bugè¿˜ä¸å¥½ç¨³å®šå¤ç°, æ­»é”æŠ˜ç£¨äºº.

Rustæ¥å•¦, ä¸€ä¸ªå®‰å…¨ä¸”å¤šçº¿ç¨‹çš„è¯­è¨€, æ€§èƒ½å’ŒC/C++å·®ä¸å¤šå“¦. å¬èµ·æ¥å¥½åƒå¤©ä¸Šæ‰é¦…é¥¼å“¦. 

Rustèƒ½è®©å¼€å‘è€…æ§åˆ¶å†…å­˜, æ­èµ·è¯­è¨€ç‰¹æ€§å’Œæœºå™¨çš„æ¡¥æ¢, ç®¡æ§å¥½ä»£ç çš„èŠ±é”€. è€Œä¸”è¿˜æœ‰é›¶æˆæœ¬æŠ½è±¡.

èŠœæ¹–,èµ·é£ğŸš€!

ç§˜è¯€å°±æ˜¯ç¼–è¯‘æœŸçš„**æ‰€æœ‰æƒ, ç§»åŠ¨è¯­ä¹‰å’Œå€Ÿç”¨**å’Œç²¾å¿ƒè®¾è®¡çš„é™æ€ç±»å‹ç³»ç»Ÿ. è®²ä¸ªç¬‘è¯,Rustçš„ç¼–è¯‘æ—¶é—´ğŸ˜

- æ‰€æœ‰æƒç³»ç»Ÿä¸ºæ¯ä¸ªå˜é‡å»ºç«‹äº†æ¸…æ™°çš„ç”Ÿå‘½å‘¨æœŸç³»ç»Ÿ, gcä½ çš„æ›¿èº«æœ€æ²¡ç”¨å•¦, å¹¶ä¸”æœ‰å¥å…¨ä¸”çµæ´»çš„æ¥å£æ¥ç®¡ç†å…¶ä»–èµ„æº,æ¯”å¦‚è¯´socketå’Œæ–‡ä»¶. 

  ç”Ÿå‘½å‘¨æœŸ, å•Šè¿™, å‘¨æœŸæ€§ä½“ç°åœ¨å“ªé‡Œå‘¢?å¥½åƒæ²¡æœ‰å“¦. åº”è¯¥å«ç”Ÿå‘½æ—¶é•¿ğŸ˜œ. æˆ‘ç°åœ¨çš„ç†è§£å°±æ˜¯, ç›´çº¿, åœ†åœˆ.

- ç§»åŠ¨è¯­ä¹‰å°†å€¼åœ¨æ‰€æœ‰è€…ä¹‹é—´è½¬ç§»
- å€Ÿç”¨åœ¨ä¸å½±å“æ‰€æœ‰æƒçš„æƒ…å†µä¸‹æš‚æ—¶ä½¿ç”¨å€¼

- å¹¶å‘ä¹Ÿå»ºç«‹åœ¨æ‰€æœ‰æƒç³»ç»Ÿä¸Š, ç”¨ä¸€ä¸‹å°±çŸ¥é“å¥½ä¸å¥½ç”¨

## 2. ç±»å‹å®‰å…¨

å•¥æ˜¯ç±»å‹å®‰å…¨`type safe`? æ¦‚å¿µä¸å¥½æŠŠæ¡. 

é‚£åœ¨å®è·µä¸­å•¥æœ€ä¸å®‰å…¨? 

å½“ç„¶æ˜¯**æœªå®šä¹‰è¡Œä¸º**å“’!

é‚£å…ˆä»Rustè§£å†³æœªå®šä¹‰è¡Œä¸ºå…¥æ‰‹å§.

- å•¥æ˜¯æœªå®šä¹‰è¡Œä¸º? C99æœ‰

  > behavior, upon use of a nonprotable or erroneous program construct or of erroneous data, for which this International Standard imposes no requirements

  åƒåœ¾ç¨‹åºå’Œåƒåœ¾æ•°æ®, æ‰§è¡Œèµ·æ¥ä¹Ÿä¸çŸ¥é“æ˜¯ä¸ªå•¥.

```c


int main(){
    int a[1] = {0};
    a[1] = 0xff20cB;
    a[1<<32] = 0xff20cB;
    return 0;
}

```

Devc++è¿è¡Œå•¥ä¹Ÿä¸è¯´...

ä½†æ˜¯å¦‚æœæŠ¥é”™äº†, ä¸è®©æ‰§è¡Œè¿™äº›åƒåœ¾ä»£ç ,é‚£å°±æ˜¯è‰¯å¥½å®šä¹‰è¡Œä¸º. å³ç¨‹åºä¸­ä¸å…è®¸æ‰§è¡Œæœªå®šä¹‰è¡Œä¸º,å³`well defined`, å¦‚æœè¯­è¨€å¤„å¤„æ˜¯`well defined`çš„è¯, å°±æ˜¯`type safe`çš„.

## 3. æ€»ç»“

- æ€§èƒ½å¿«
- type safeå¹¶ä¸”Rustç¡®ä¿æ•°æ®å®‰å…¨ä¸”æœ‰æ„ä¹‰
- è‰¯å¥½çš„å¹¶å‘,å¤šçº¿ç¨‹æ”¯æŒ
- traitå’Œå¸¦traitçš„æ³›å‹

å…¨æ‘çš„å¸Œæœ›å°±æ˜¯Rustå“’